sudo apt update && sudo apt install -y openjdk-11-jdk maven wget unzip && export JAVA_HOME=/usr/lib/jvm/java-11-openjdk-amd64 && export PATH=$JAVA_HOME/bin:$PATH && wget https://github.com/apache/hudi/archive/refs/tags/release-0.9.0.zip -O hudi.zip && unzip hudi.zip && cd hudi-release-0.9.0 && mvn clean install -DskipTests && wget https://archive.apache.org/dist/spark/spark-3.1.2/spark-3.1.2-bin-hadoop2.7.tgz && tar -xzf spark-3.1.2-bin-hadoop2.7.tgz && export SPARK_HOME=$(pwd)/spark-3.1.2-bin-hadoop2.7 && export PATH=$SPARK_HOME/bin:$PATH && export HUDI_SPARK_BUNDLE=$(pwd)/packaging/hudi-spark-bundle/target/hudi-spark-bundle_2.12-0.9.0.jar && mkdir -p /tmp/hudi_sample_input && echo '{"_row_key": "1", "name": "john", "timestamp": "2024-07-01T01:00:00"}' > /tmp/hudi_sample_input/input.json && $SPARK_HOME/bin/spark-submit --class org.apache.hudi.utilities.deltastreamer.HoodieDeltaStreamer --master local[2] $HUDI_SPARK_BUNDLE --table-type COPY_ON_WRITE --source-class org.apache.hudi.utilities.sources.JsonDFSSource --source-ordering-field timestamp --target-base-path file:///tmp/hudi_sample_output --target-table hudi_trips --props /path/to/hudi-release-0.9.0/docker/demo/config/kafka-delta-streamer.properties --schemaprovider-class org.apache.hudi.utilities.schema.FilebasedSchemaProvider
