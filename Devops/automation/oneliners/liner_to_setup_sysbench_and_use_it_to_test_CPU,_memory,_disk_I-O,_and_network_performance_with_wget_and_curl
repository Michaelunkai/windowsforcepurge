apt install sysbench -y && mkdir -p ~/wsl2_performance_tests/results && sysbench cpu --cpu-max-prime=20000 run > ~/wsl2_performance_tests/results/cpu_test.txt && sysbench memory --memory-block-size=1M --memory-total-size=1G run > ~/wsl2_performance_tests/results/memory_test.txt && sysbench fileio --file-total-size=1G --file-num=1 prepare && sysbench fileio --file-total-size=1G --file-num=1 --file-test-mode=randrw --max-time=300 --max-requests=0 run > ~/wsl2_performance_tests/results/disk_io_test.txt && sysbench fileio --file-total-size=1G --file-num=1 cleanup && wget -O /dev/null http://speedtest.wdc01.softlayer.com/downloads/test10.zip 2>&1 | grep -o '[0-9.]\+ [KM]*B/s' > ~/wsl2_performance_tests/results/network_download_speed.txt && curl -o /dev/null -F "file=@/dev/zero" https://httpbin.org/post 2>&1 | grep -o '[0-9.]\+ [KM]*B/s' > ~/wsl2_performance_tests/results/network_upload_speed.txt && echo "Performance testing complete. Results are stored in ~/wsl2_performance_tests/results/" && cat ~/wsl2_performance_tests/results/cpu_test.txt ~/wsl2_performance_tests/results/memory_test.txt ~/wsl2_performance_tests/results/disk_io_test.txt ~/wsl2_performance_tests/results/network_download_speed.txt ~/wsl2_performance_tests/results/network_upload_speed.txt
